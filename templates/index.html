<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Android devices</title>
    {% block styles %}
        <link href="../static/css/bootstrap.min.css" rel="stylesheet">
        <link href="../static/css/style.css" rel="stylesheet">
    {% endblock %}

  <style type="text/css">
   TABLE {
    border: 2px solid #8a8a8a;
    border-spacing: 7px 5px;
   }
   TD {
    padding: 5px;
    border: 2px solid #8a8a8a;
   }
   TH {
    padding: 5px;
    border: 2px solid #8a8a8a;
   }
   div .ADB {
     float: left;
     margin-right: 10px;
     text-align: center;
    }
</style>
</head>
<body>
<div style="margin: 25px">
    <h1>DEVICES:</h1>
    {% if devices %}
    <table class="table table-hover">
          <thead>
            <tr class="table-dark">
                <th scope="col" style="text-align: center;">IP</th>
                <th scope="col" style="text-align: center;">STATUS</th>
                <th scope="col" style="text-align: center;">APK INSTALL</th>
                <th scope="col" style="text-align: center;">BUILD</th>
                <th scope="col" style="text-align: center;">SHELL</th>
                <th scope="col" style="text-align: center;">DISCONNECT</th>
            </tr>
        </thead>
        <tbody>
        {%for cur_device in devices%}
        <tr>
            <td>{{cur_device[0]}}</td>
            {%if cur_device[1] != 'device'%}
                <td style="color:red;font-weight: bold;">{{cur_device[1]}}</td>
            {% else %}
                <td style="color:green;font-weight: bold;">{{cur_device[1]}}</td>
                {%if cur_device[2] != '' and cur_device[1] == 'device'%}
                    <form action="/install/" method="POST" enctype="multipart/form-data">
                        <input type="hidden" name="udid" value="{{cur_device[0]}}">
                        <td><input type="file" name="file"><input type="submit" value="install"></td>
                    </form>
                {% endif %}
            {% endif %}
            {%if cur_device[2] != '' and cur_device[1] == 'device'%}
                <td>{{cur_device[2]}}</td>
                <form action="/" method="POST" enctype="multipart/form-data">
                    <input type="hidden" name="udid" value="{{cur_device[0]}}">
                <td>shell: <input type="text" name="shell"><input type="submit"></td>
                </form>
                <form action="/adb/" method="post">
                    <input type="hidden" name="udid" value="{{cur_device[0]}}">
                    <td><input type="submit" class="btn btn-danger" value="disconnect" name="butt"></td>
                </form>
            {% endif %}
        </tr>
        {%endfor%}
        </tbody>
    </table>
    {% else %}
    <p>No connected devices</p>
    {% endif %}
    <hr>
    <div class="form-group" style="width:80%">
        <textarea class="form-control" id="exampleFormControlTextarea">{% if message %}{{ message }}{% endif %}</textarea>
    </div>
    <hr>
    <form action="/adb/" method="post">
        <div class="ADB">
            <label for="udid" ><b> IP Adress: </b><input type="text" id="udid" name="udid" style="line-height:33px"></label>
        </div>
        <div class="ADB">
            <input type="submit" class="btn btn-success" value="connect" name="butt">
        </div>
        <div class="ADB">
            <input type="submit" class="btn btn-danger" value="disconnect" name="butt">
        </div>
    </form>
</div>

<script src="../static/js/jquery.min.js"></script>
<script src="../static/js/bootstrap.min.js"></script>
<script src="../static/js/scripts.js"></script>
</body>
</html>